import { Context } from 'koishi';
import { PresetTemplate } from 'koishi-plugin-chatluna/llm-core/prompt';
import { Cache } from './cache';
import { Config } from './config';
export declare class PresetService {
    private readonly ctx;
    private readonly config;
    private readonly cache;
    private readonly _presets;
    private _aborter;
    constructor(ctx: Context, config: Config, cache: Cache<'chathub/keys', string>);
    loadPreset(file: string): Promise<void>;
    loadAllPreset(): Promise<void>;
    watchPreset(): void;
    init(): Promise<void>;
    getPreset(triggerKeyword: string, loadForDisk?: boolean, throwError?: boolean): Promise<PresetTemplate>;
    getDefaultPreset(): Promise<PresetTemplate>;
    getAllPreset(concatKeyword?: boolean): Promise<string[]>;
    addPreset(preset: PresetTemplate): Promise<void>;
    private _updateSchema;
    resetDefaultPreset(): Promise<void>;
    resolvePresetDir(): string;
    private _checkPresetDir;
    private _copyDefaultPresets;
}
